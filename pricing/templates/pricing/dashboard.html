{% load static %}
<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ููุญุฉ ุงูุชุณุนูุฑ</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script defer src="{% static 'pricing/js/dashboard.js' %}"></script>
</head>
<body class="bg-light">

<div class="container-fluid py-3">

  <!-- Filters -->
  <div class="card mb-3">
    <div class="card-body d-flex flex-wrap gap-2 align-items-end">
      <div>
        <label class="form-label">ุงููุชุฑุฉ</label>
        <select class="form-select" id="period">
          {% for p in periods %}
            <option value="{{p.id}}" {% if period and p.id == period.id %}selected{% endif %}>{{p}}</option>
          {% endfor %}
        </select>
      </div>

      <div>
        <label class="form-label">ููุน ุงูููุชุฌุงุช</label>
        <select class="form-select" id="mode">
          <option value="all">ุงููู</option>
          <option value="sell">SELL</option>
          <option value="internal">INTERNAL (SF)</option>
        </select>
      </div>

      <div class="flex-grow-1">
        <label class="form-label">ุจุญุซ</label>
        <input class="form-control" id="q" placeholder="ููุฏ ุฃู ุงุณู">
      </div>

      <button class="btn btn-primary" id="applyBtn">ุชุทุจูู</button>
      <button class="btn btn-outline-secondary" id="saveScenarioBtn">ุญูุธ ุณููุงุฑูู</button>
    </div>
  </div>

  <div class="row g-3">
    <!-- Scenario -->
    <div class="col-lg-3">
      <div class="card">
        <div class="card-header fw-bold">๐๏ธ ุงูุณููุงุฑูู / ุงูุณูุงุณุฉ</div>
        <div class="card-body">

          <label class="form-label">Markup SELL %</label>
          <input type="number" class="form-control mb-2" id="markup_sell" value="60" step="1">

          <label class="form-label">Markup INTERNAL %</label>
          <input type="number" class="form-control mb-2" id="markup_internal" value="20" step="1">

          <label class="form-label">OPEX % (ุชุญููู ุงููุตุฑููุงุช)</label>
          <input type="number" class="form-control mb-2" id="opex_percent" value="0" step="0.1">

          <label class="form-label">Discount %</label>
          <input type="number" class="form-control mb-2" id="discount_percent" value="0" step="0.1">

          <label class="form-label">VAT %</label>
          <input type="number" class="form-control mb-2" id="vat_percent" value="0" step="0.1">

          <label class="form-label">Min Price</label>
          <input type="number" class="form-control mb-2" id="min_price" value="0" step="0.01">

          <div class="small text-muted mt-2">
            * ุงูุฃุณุนุงุฑ ุงูููุชุฑุญุฉ ุชูุญุณุจ ูู ุชูููุฉ BOM + ุฅุนุฏุงุฏุงุชู ููุง.
          </div>
        </div>
      </div>
    </div>

    <!-- Main -->
    <div class="col-lg-9">

      <!-- KPIs -->
      <div class="row g-3 mb-3">
        <div class="col-md-3"><div class="card"><div class="card-body">
          <div class="text-muted">ุนุฏุฏ ุงูููุชุฌุงุช</div>
          <div class="fs-4 fw-bold" id="kpiCount">-</div>
        </div></div></div>

        <div class="col-md-3"><div class="card"><div class="card-body">
          <div class="text-muted">ุฅุฌูุงูู ุงูุชูููุฉ (ูุญุฏุฉ)</div>
          <div class="fs-4 fw-bold" id="kpiCost">-</div>
        </div></div></div>

        <div class="col-md-3"><div class="card"><div class="card-body">
          <div class="text-muted">ุฅุฌูุงูู ุณุนุฑ ููุชุฑุญ (ูุญุฏุฉ)</div>
          <div class="fs-4 fw-bold" id="kpiSuggested">-</div>
        </div></div></div>

        <div class="col-md-3"><div class="card"><div class="card-body">
          <div class="text-muted">ุตุงูู ุฑุจุญ ููุชุฑุญ (ูุญุฏุฉ)</div>
          <div class="fs-4 fw-bold" id="kpiNet">-</div>
        </div></div></div>
      </div>

      <!-- Table -->
      <div class="card">
        <div class="card-header fw-bold">๐ ูุชุงุฆุฌ ุงูุชุณุนูุฑ</div>
        <div class="table-responsive">
          <table class="table table-bordered table-sm align-middle mb-0">
            <thead class="table-light">
              <tr>
                <th>ุงูููุฏ</th>
                <th>ุงูุงุณู</th>
                <th>ุงูููุน</th>
                <th>ุงูุชูููุฉ</th>
                <th>ุงูุณุนุฑ ุงูุญุงูู</th>
                <th>ุงูุณุนุฑ ุงูููุชุฑุญ</th>
                <th>ุงูุฑุจุญ ุงูุฅุฌูุงูู</th>
                <th>ุตุงูู ุงูุฑุจุญ</th>
                <th>ูุงูุด%</th>
              </tr>
            </thead>
            <tbody id="rowsBody"></tbody>
          </table>
        </div>
      </div>

    </div>
  </div>

</div>
</body>
</html>
